<head>
<title>LocalTunes</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>

<!--google maps -->
 <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map_canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDCfDEDrY_FAtBtNXzDyDi1k2MdEsJ9EFo&sensor=false">
    </script>
    <script type="text/javascript">
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(60.73233204945973,-73.99873495101929),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"),
            mapOptions);
      }

      function detectBrowser() {
        var useragent = navigator.userAgent;
        var mapdiv = document.getElementById("map_canvas");

        if (useragent.indexOf('iPhone') != -1 || useragent.indexOf('Android') != -1 ) {
         mapdiv.style.width = '100%';
         mapdiv.style.height = '100%';
       } else {
         mapdiv.style.width = '600px';
         mapdiv.style.height = '800px';
       }
      }
    </script>

</head>
<body>
  <!-- here load map initializer -->
<div class="wrapper">

  <div data-role="page" id="home">

    <div data-role="header">
      <a href="#" class="showMenu">Menu</a>
      <h1>Mood Selection</h1>
    </div>
    <!-- /header -->

    <div data-role="content" >
      <ul data-role="listview">
        <li><a href="#listView_JB" data-transition="slide">Jazz and Bluesy</a></li>
        <li><a href="#listView_VR" data-transition="slide">Velvet Rock</a></li>
        <li><a href="#listView_HP" data-transition="slide">Happy Pop</a></li>
        <li><a href="#listView" data-transition="slide">Global Niche</a></li>
        <li><a href="#listView" data-transition="slide">Mandala Vibe</a></li>
        <li><a href="#listView" data-transition="fade">Be Water</a></li>
        <li><a href="#listView" data-transition="slide">Metal Harmonium</a></li>
        <li><a href="#listView" data-transition="slide">Electro Vinyl</a></li>
        <li><a href="#listView" data-transition="slide">Soul and Romance</a></li>
        <li><a href="#listView" data-transition="slide">Others</a></li>
      </ul>
    </div>
  <!-- /content -->

</div>
<!-- /page -->



<!-- Jazz and Bluesy -->
  <div data-role="page" id="listView_JB" data-add-back-btn="true">

    <div data-role="header">
      <a href="#" class="showMenu">Menu</a>
      <a href="Lib/html/mapView.html" rel="external" data-transition="fade" data-icon = "grid">Map View</a>
      <h1>Jazz and Bluesy</h1>
    </div>
    <!-- /header -->

    <div data-role="content" >
      <ul data-role="listview" data-filter="true">
      <li data-role="list-divider">May 13th, 2013</li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/60075895.png" />
        <h3>Beth Hart</h3>
        <h4>18:00:00</h4>
        <p>City Winery New York, NY</p>
        </a>
      </li>
<li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/11032615.jpg"/>
        <h3>Child Abuse</h3>
        <h4>19:30:00</h4>
        <p>Silent Barn New York, NY</p>
        </a>
      </li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/54163607.jpg"/>
        <h3>Night Train</h3>
        <h4>20:00:00</h4>
        <p>Littlefield New York, NY</p>
        </a>
      </li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/58881919.jpg" />
        <h3>Huey Lewis And The News</h3>
        <h4>23:00:00</h4>
        <p>Irving Plaza New York, NY</p>
        </a>
      </li>
      </ul>
    </div>
  <!-- /content -->

</div>
<!-- /page -->


<!-- Velvet Rock -->
  <div data-role="page" id="listView_VR" data-add-back-btn="true">

    <div data-role="header">
      <a href="#" class="showMenu">Menu</a>
      <a href="Lib/html/mapView.html" rel="external" data-transition="fade" data-icon = "grid">Map View</a>
      <h1>Velvet Rock</h1>
    </div>
    <!-- /header -->
    <div data-role="content" >
      <ul data-role="listview" data-filter="true">
            <li data-role="list-divider">May 13th, 2013</li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/252/85315697.png"/>
        <h3>Foxygen</h3>
        <h4>20:00:00</h4>
        <p>Knitting Factory New York, NY</p>
        </a>
      </li>
      <li><a href="#musicDetail" data-transition ="slide">
        <img src="http://userserve-ak.last.fm/serve/252/81023761.png" />
        <h3>Youngblood Hawke</h3>
        <h4>20:30:00</h4>
        <p>Santos Party House New York, NY</p>
        </a>
      </li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/39632783.png" />
        <h3>Phoenix</h3>
        <h4>20:00:00</h4>
        <p>Apollo Theater New York, NY</p>
        </a>
      </li>
<li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/61653429.png"/>
        <h3>Marissa Nadler</h3>
        <h4>20:00:00</h4>
        <p>Saint Vitus New York, NY</p>
        </a>
      </li>
            <li data-role="list-divider">May 12th, 2013</li>

      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/71705186.jpg"/>
        <h3>September Mourning</h3>
        <h4>19:00:00</h4>
        <p>Tammany Hall New York, NY</p>
        </a>
      </li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/58881919.jpg" />
        <h3>Beth Hart</h3>
        <h4>18:00:00</h4>
        <p>City Winery New York, NY</p>
        </a>
      </li>
      </ul>
    </div>
  <!-- /content -->

</div>
<!-- /page -->



<!-- Happy Pop -->
  <div data-role="page" id="listView_HP" data-add-back-btn="true">

    <div data-role="header">
      <a href="#" class="showMenu">Menu</a>
      <a href="Lib/html/mapView.html" rel="external" data-transition="fade" data-icon = "grid">Map View</a>
      <h1>Happy Pop</h1>
    </div>
    <!-- /header -->

    <div data-role="content" >
      <ul data-role="listview" data-filter="true">
            <li data-role="list-divider">May 13th, 2013</li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/60075895.png" />
        <h3>Beth Hart</h3>
        <h4>18:00:00</h4>
        <p>City Winery New York, NY</p>
        </a>
      </li>
<li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/11032615.jpg"/>
        <h3>Child Abuse</h3>
        <h4>19:30:00</h4>
        <p>Silent Barn New York, NY</p>
        </a>
      </li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/54163607.jpg"/>
        <h3>Night Train</h3>
        <h4>20:00:00</h4>
        <p>Littlefield New York, NY</p>
        </a>
      </li>
      <li><a href="index.html">
        <img src="http://userserve-ak.last.fm/serve/126/58881919.jpg" />
        <h3>Huey Lewis And The News</h3>
        <h4>23:00:00</h4>
        <p>Irving Plaza New York, NY</p>
        </a>
      </li>
      </ul>
    </div>
  <!-- /content -->

</div>
<!-- /page -->



<!-- Live Music Detail -->
  <div data-role="page" id="musicDetail" data-add-back-btn="true">

    <div data-role="header">
      <h1>Happy Pop</h1>
    </div>
    <!-- /header -->

    <div data-role="content" >

    </div>
  <!-- /content -->

</div>
<!-- /page -->





<div data-role="page" id="Search">

  <div data-role="header">
    <a href="#" class="showMenu">Menu</a>
    <h1>Search</h1>
  </div>
  <!-- /header -->

  <div data-role="content">
    <ul data-role="listview" data-filter="true"> </ul>
  </div>
  <!-- /content -->

</div>
<!-- /page -->


<div data-role="page" id="Favor">

  <div data-role="header">
    <a href="#" class="showMenu">Menu</a>
    <h1>Favor Page</h1>
  </div>
  <!-- /header -->

  <div data-role="content">
    <ul>
      <li>You have no favor yet.</li>
    </ul>
  </div>
  <!-- /content -->

</div>
<!-- /page -->


<div data-role="page" id="musicDetail" data-add-back-btn="true">

  <div data-role="header">
    <h1>Music Detail</h1>
  </div>
  <!-- /header -->

  <div data-role="content">
    <divstyle="text-align:center">
      <img src="http://userserve-ak.last.fm/serve/126/81023761.png" />
      <h2> Artist Name</h2>
      <h3>Phoenix</h3>
      <h2>Venue</h2>
      <h3>Apollo Theater New York, NY</h3>
      <h2>Time</h2>
      <h3>20:00:00</h3>
      <h2>Date</h2>
      <h3>2013-05-13</h3>
      <a tel:(917)364-2555 data-role="button">Call for tickets</a>
    </div>
  </div>
  <!-- /content -->

</div>
<!-- /page -->


<!-- map view page -->
<div data-role="page" id="mapView" data-add-back-btn="true">
  <div data-role="header">
    <h1>Map View</h1>
  </div data-role="content">
<div id="map_canvas" style="width:1000; height:1000"></div>
</div>
<!-- /content -->
</div>
<!-- /page -->


<!-- Menu panel -->
<div data-role="page" id="menu" data-theme="a">

<div data-role="content">
  <ul data-role="listview">
    <li>
      <a href="#home" class="menubtn" data-transition="slide">Mood Selection</a>
    </li>
    <li>
      <a href="#Search" class="menubtn" data-transition="slide">Search</a>
    </li>
    <li>
      <a href="#Setting" class="menubtn" data-transition="slide">Setting</a>
    </li>
    <li>
      <a href="#Favor" class="menubtn" data-transition="slide">Favor</a>
    </li>
  </ul>
</div>
</div>

</div>

<script>
$(document).on("pageinit", "#home", function(e){
    var percent = .66;
    var menuStatus = false;
    var margin = $(window).width() * percent;
    var wheight = $(window).height();

function initializeMenu(){
  $("#menu").css({
    'z-index': '-100',
    width: margin,
    height: wheight
  }).page().show();
};

function sendForeground(){
  $("#menu").css({
    'z-index': '100'
  });
};

function sendBackground(){
  $("#menu").css({
    'z-index': '-100'
  });
};

  function showMenu(){
    if(menuStatus == false){
      $(".ui-page-active").animate({
        marginLeft: margin
      }, 500, function(){
        sendForeground();
      });
      menuStatus = true;
    } else {
      sendBackground();
      $(".ui-page-active").animate({
        marginLeft: "0px"
      }, 500);
      menuStatus = false;
    }
  };

  $(document).on("swiperight", function(e){
    if(!menuStatus){
      showMenu();
    }
  });

  $(document).on("swipeleft", function(e){
    if(menuStatus){
      showMenu();
    }
  });

initializeMenu();

$(document).on("click", ".showMenu", function(){
    showMenu();
});

      $(".menubtn").on("click", function(){
        sendBackground();
        $(".ui-page-active").animate({
          marginLeft: "0px"
        }, 0);
        menuStatus = false;
      });
  });
</script>
</body>